# Test info

- Name: Test the index htm page >> feedback widget test run:0
- Location: /home/runner/work/readytotest.github.io/readytotest.github.io/test-playwright/tests/homePage.spec.ts:83:9

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)

Locator: locator('#sentry-feedback')
Expected string: "message sent successfully!"
Received string: "Let's connect!Send MessageNameEmailMessage(required)Send Now!Cancel"
Call log:
  - expect.toContainText with timeout 5000ms
  - waiting for locator('#sentry-feedback')
    9 Ã— locator resolved to <div id="sentry-feedback"></div>
      - unexpected value "Let's connect!Send MessageNameEmailMessage(required)Send Now!Cancel"

    at Object.verifyFeedbackWidgetMessageSent (/home/runner/work/readytotest.github.io/readytotest.github.io/test-playwright/pages/homePageObject.ts:119:52)
    at /home/runner/work/readytotest.github.io/readytotest.github.io/test-playwright/tests/homePage.spec.ts:97:28
```

# Page snapshot

```yaml
- text: "88\"\"Yb 888888 db 8888b. Yb dP 888888 dP\"Yb 888888 888888 .dP\"Y8 888888 88__dP 88__ dPYb 8I Yb YbdP 88 dP Yb 88 88__ `Ybo.\" 88 88\"Yb 88\"\" dP__Yb 8I dY 8P 88 Yb dP 88 88\"\" o.`Y8b 88 88 Yb 888888 dP\"\"\"\"Yb 8888Y\" dP 88 YbodP 88 888888 8bodP' 88 Software QA and Support â˜… Automation â˜… Manual Testing Current Date & Time (Pacific) â˜…"
- link "2025/04/18, 13:21:34.510":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/js/dateAndTime.js
- img
- img
- img
- img
- img
- img
- img
- img
- img
- img
- img
- text: "------------------------------------------------------------------------"
- link "sitemap":
  - /url: sitemap.htm
- img "usa flag"
- link:
  - /url: /index.htm
- img "nevada flag"
- text: About â„¹ï¸ Welcome to my personal homepage. It's like a peek into my garage workshop, where you get to see what I'm tinkering on and how I think about QA. And yep, I'm still maintaining this site. It's Alive and Kicking in 2025! Hop on for the ride, full of trial and error
- link ".":
  - /url: /html/img/sand-harbor-nv.JPG
- text: "ðŸ§ªðŸ¥¼ Honestly, this is my creative outlet, disguised as a technical site. ðŸ˜¹ For a more personal look into my approach, check out my:"
- link "water well lid project":
  - /url: /html/well-lid.htm
- text: ","
- link "testing skills":
  - /url: /html/testing-skills.htm
- text: ","
- link "QA philosophy":
  - /url: /html/philosophy.htm
- text: ", and"
- link "work style":
  - /url: /html/work-style.htm
- text: .
- img "Dog Running Gif"
- text: Curious about the
- link "design choice":
  - /url: /html/90s-web.htm
- text: of this page? ------------------------------------------------------------------------ Ready to Test (QA) GitHub Profile ðŸ‘¤
- link "https://github.com/readytotest":
  - /url: https://github.com/readytotest
- link "Down to repo list â¤µ":
  - /url: "#repo-list"
- text: "------------------------------------------------------------------------ UI Test Automation with Playwright"
- img
- superscript:
  - text: This project uses
  - link "Husky":
    - /url: https://typicode.github.io/husky
  - text: ","
  - link "ESLint":
    - /url: https://eslint.org
  - text: ","
  - link "Prettier":
    - /url: https://prettier.io
  - text: ", and"
  - link "lint-staged":
    - /url: https://github.com/lint-staged/lint-staged
  - text: to enforce code quality checks on staged files through a
  - link "pre-commit hook":
    - /url: https://github.com/readytotest/test-playwright/blob/main/.husky/_/pre-commit
  - text: .
- text: "----- CI/CD"
- link:
  - /url: https://github.com/readytotest/readytotest.github.io/actions/workflows/playwright-mysite.yml
  - img
- link "playwright-mysite.yml":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/.github/workflows/playwright-mysite.yml
- text: "|"
- link "Actions workflow":
  - /url: https://github.com/readytotest/readytotest.github.io/actions/workflows/playwright-mysite.yml
- text: "| ðŸ“¸"
- link "look1":
  - /url: /html/img/playwright-action.png
- text: "| ðŸ“¸"
- link "look2":
  - /url: /html/img/branch-status-checks.png
- superscript:
  - text: "This GitHub Actions workflow runs on every push or pull request to my main website repo. It checks out three repos: the main website repo, the Playwright test repo, and the Allure report repo. It installs dependencies, spins up a Node server, and runs the Playwright tests against a local environment in the runner with the changes from the push or PR. After the tests complete, the results are uploaded as an artifact to the GitHub Workflow run summary using the built-in HTML reporter. An Allure report is also generated, pushed to the dedicated Allure repo, and deployed to a GitHub Pages site, which you can access here ->"
  - link "Playwright Allure Report":
    - /url: https://readytotest.github.io/playwright-allure-report
  - text: . Finally, a message is sent to my personal Slack workspace. | ðŸ“¸
  - link "look":
    - /url: /html/img/playwright-slack.png
- text: "----- Spec:"
- link "homePage.spec.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/tests/homePage.spec.ts
- text: "| ðŸ“¸"
- link "look1":
  - /url: /html/img/playwright-report1a.png
- text: "| ðŸ“¸"
- link "look2":
  - /url: /html/img/playwright-report1b.png
- superscript: "Highlight: File download and verification"
- text: "Spec:"
- link "weatherAlertPage.spec.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/tests/weatherAlertPage.spec.ts
- text: "| ðŸŽ¥"
- link "watch":
  - /url: /html/vid/weatherAlertTest.mp4
- superscript: "Highlight: Exploring two browser sessions and clipboard operations"
- text: "Spec:"
- link "philosophyPage.spec.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/tests/philosophyPage.spec.ts
- superscript: "Highlight: A simple test with no describe block"
- text: "Spec:"
- link "testingSkillsPage.spec.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/tests/testingSkillsPage.spec.ts
- superscript: "Highlight: Very simple script with no page objects or helper scripts"
- text: "----- Page Object:"
- link "homePageObject.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/pages/homePageObject.ts
- text: "Page Object:"
- link "weatherAlertPageObject.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/pages/weatherAlertPageObject.ts
- text: "Page Object:"
- link "philosophyPageObject.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/pages/philosophyPageObject.ts
- text: "----- Helper Function 1:"
- link "verifyTextAndLink.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/verifyTextAndLink.ts
- text: "Helper Function 2:"
- link "getHrefCopyToClipboard.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/getHrefCopyToClipboard.ts
- text: "Helper Function 3:"
- link "readClipboardContent.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/readClipboardContent.ts
- text: "Helper Function 4:"
- link "navigation.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/navigation.ts
- text: "Helper Function 5:"
- link "typeTodaysDate.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/typeTodaysDate.ts
- text: "Helper Function 6:"
- link "getTimeZoneInfo.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/getTimeZoneInfo.ts
- text: "| ðŸ“¸"
- link "look1":
  - /url: /html/img/tz-runner.png
- text: "| ðŸ“¸"
- link "look2":
  - /url: /html/img/tz-local.png
- text: "----- Test ID Generator:"
- link "testIdGenerator.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/scripts/testIdGenerator.ts
- text: "Test Data:"
- link "testData.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/test-data/testData.ts
- text: "----- Feedback Widget Test Run: ðŸ“¸"
- link "look":
  - /url: /html/img/sentry-user-feedback.png
- text: "| ðŸŽ¥"
- link "watch":
  - /url: /html/vid/widget-test.webm
- text: "----- Separate"
- link "Playwright configs":
  - /url: /html/img/playwright-config.png
- text: "for local + CI/CD environments. Playwright Config Local:"
- link "playwright.config.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/playwright.config.ts
- text: "Playwright Config CI:"
- link "playwright.actions.config.ts":
  - /url: https://github.com/readytotest/test-playwright/blob/main/playwright.actions.config.ts
- text: "------------------------------------------------------------------------ Start Local Server ðŸ­ Bash:"
- link "start-server.sh":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/start-server.sh
- text: "| ðŸ“¸"
- link "look1":
  - /url: /html/img/bash-gh-actions.png
- text: "| ðŸ“¸"
- link "look2":
  - /url: /html/img/bash-3000-in-use.png
- text: "Node:"
- link "server.js":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/server.js
- text: "------------------------------------------------------------------------ Cypress"
- img
- link "Click here":
  - /url: /html/cypress.htm
- text: to see Cypress UI/API/visual testing + Cypress Cloud ------------------------------------------------------------------------ Postman API Testing ðŸ“¬
- link "My profile and public workspace/collections":
  - /url: https://www.postman.com/tinkerapi
- text: "------------------------------------------------------------------------ National Weather Service API â›ˆï¸ðŸŒ¡ï¸â„ï¸â˜”ðŸŒ¤ Click Here -->"
- link "View weather alerts on my page":
  - /url: /html/weather-api.htm
- text: <-- Click Here ------------------------------------------------------------------------ Most Recent Earthquake via ðŸ“³
- link "USGS Realtime GeoJSON Feed":
  - /url: https://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php
- text: "Source File:"
- link "earthQuake.js":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/js/earthQuake.js
- text: "Place: 4 km NW of Laytonville, CA Magnitude: 1.49 Latitude: 39.7150001525879 Longitude: -123.522163391113 Depth: 6.48 km Time: 4/18/2025, 12:59:41 PM Pacific URL: ðŸ“"
- link "View on map":
  - /url: https://earthquake.usgs.gov/earthquakes/eventpage/nc75167711/map
- text: "------------------------------------------------------------------------ Code Quality and Site Monitoring âš ï¸"
- link "View my SonarQube Cloud project":
  - /url: https://sonarcloud.io/summary/new_code?id=readytotest_readytotest.github.io
- link "SonarCloud Logo":
  - /url: https://sonarcloud.io/summary/new_code?id=readytotest_readytotest.github.io
  - img "SonarCloud Logo"
- link "SonarCloud Security":
  - /url: https://sonarcloud.io/summary/new_code?id=readytotest_readytotest.github.io
  - img "SonarCloud Security"
- link "SonarCloud Maintainability":
  - /url: https://sonarcloud.io/summary/new_code?id=readytotest_readytotest.github.io
  - img "SonarCloud Maintainability"
- link "SonarCloud Badge Reliability":
  - /url: https://sonarcloud.io/summary/new_code?id=readytotest_readytotest.github.io
  - img "SonarCloud Badge Reliability"
- link "SonarCloud Badge Quality Gate":
  - /url: https://sonarcloud.io/summary/new_code?id=readytotest_readytotest.github.io
  - img "SonarCloud Badge Quality Gate"
- link "Sentry Logo":
  - /url: https://ready-to-test.sentry.io/
  - img "Sentry Logo"
- text: "------------------------------------------------------------------------ Slack Integration ðŸª› Slack integration with Sentry ðŸ“¸"
- link "look":
  - /url: /html/img/sentry-slack.png
- text: and Cypress Cloud ðŸ“¸
- link "look":
  - /url: /html/img/cypress-cloud-slack.png
- text: "------------------------------------------------------------------------ Tinkering with the HTML <video></video> tag ðŸš˜ðŸ“¹ * On desktop, hover your mouse over over the video to toggle opacity. * On mobile, just tap on or outside of the video to toggle opacity. Your browser does not support the video tag. ------------------------------------------------------------------------ Set frequency of JS alert with localStorage"
- link "alertPopUp.js":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/js/alertPopUp.js
- text: ðŸ›Žï¸ ------------------------------------------------------------------------ View my curated list of
- link "helpful tools and resources":
  - /url: /html/helpful-tools.htm
- text: ðŸ› ï¸ ------------------------------------------------------------------------
- link "tinker.js":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/js/tinker.js
- text: JavaScript playground ðŸŽ¡ ------------------------------------------------------------------------ Repository Last Commit ðŸ’¾
- link "readytotest":
  - /url: https://github.com/readytotest/readytotest
- text: "Repo Size: 1KB Timestamp: 4/17/2025, 7:36:27 PM Pacific git commit -m: \"chore: squash all commits into one! Update README.md\""
- link "playwright-allure-report":
  - /url: https://github.com/readytotest/playwright-allure-report
- text: "Repo Size: 66356KB Timestamp: 4/18/2025, 1:08:32 PM Pacific git commit -m: \"chore: add line break\""
- link "readytotest.github.io":
  - /url: https://github.com/readytotest/readytotest.github.io
- text: "Repo Size: 194054KB Timestamp: 4/18/2025, 1:19:32 PM Pacific git commit -m: \"chore: add example of race condition\""
- link "test-playwright":
  - /url: https://github.com/readytotest/test-playwright
- text: "Repo Size: 819KB Timestamp: 4/17/2025, 9:16:41 PM Pacific git commit -m: \"Merge pull request #222 from readytotest/dependabot/npm_and_yarn/html-eslint/eslint-plugin-0.39.0 chore(deps-dev): bump @html-eslint/eslint-plugin from 0.38.1 to 0.39.0\" ----- Source File:"
- link "repoLastCommitInfo.js":
  - /url: https://github.com/readytotest/readytotest.github.io/blob/main/js/repoLastCommitInfo.js
- text: "------------------------------------------------------------------------"
- link "Sign/View my guestbook":
  - /url: /html/guestbook.htm
- text: "------------------------------------------------------------------------"
- img "QA 88x31 Button"
- img "Free Scripts 88x31 Button"
- img "Learn HTML 88x31 Button"
- img "JavaScript 88x31 Button"
- img "Web Interoperability 88x31 Button"
- text: "Feel free to use and explore the scripts. This site is intended for educational purposes, not only for my learning journey, but yours too! Thanks for stopping by! You are visitor:"
- img "Website Hit Counter"
- text: "------------------------------------------------------------------------"
- link "Top â‡§":
  - /url: "#top-index"
- dialog:
  - heading "Send Message" [level=2]:
    - text: Send Message
    - link "Powered by Sentry":
      - /url: https://sentry.io/welcome/
      - img
  - group:
    - text: Unable to determine if Feedback was correctly sent. Name
    - textbox "Name": Mr. QA Tester
    - text: Email
    - textbox "Email": name@invalid-qa-email.org
    - text: Message (required)
    - textbox "Message (required)": This text was generated by Playwright!!! Aperio adflicto reiciendis. Suppono debilito et ab cubitum. Libero qui volup esse audentia sum vitae adaugeo cultura alveus. TestID:1745007671034 04-18-2025
    - button "Send Now!"
    - button "Cancel"
```

# Test source

```ts
   19 |       // Handy if you have timing issues, for example
   20 |       // the assertion on the next line might check
   21 |       // too quickly before the element is fully visible
   22 |       // It could be a menu that doesn't close fast enough
   23 |       // before the assertion or a checking that a chat message
   24 |       // is visible before it actually appears.
   25 |       await page.waitForSelector('[data-testid="dog-run-gif"]', { state: "visible" });
   26 |
   27 |       // Assert element is visible
   28 |       await expect(dogGif).toBeVisible();
   29 |       console.log("âœ… Success: Dog GIF is visible!");
   30 |
   31 |       // Verify the ID attribute
   32 |       const id = await dogGif.getAttribute("id");
   33 |       expect(id).toBe("dog-run");
   34 |       console.log("âœ… Success: Dog GIF has the correct ID ('dog-run').");
   35 |     } catch (error) {
   36 |       // Log the error message
   37 |       console.log("ðŸ¥´ Verification failed:", error);
   38 |
   39 |       // Rethrow the error to ensure proper failure reporting
   40 |       throw error;
   41 |     }
   42 |   };
   43 |
   44 |   // Programmatically force the browser to download a file without relying on user interaction,
   45 |   // otherwise some files open witin the browser itself and I want to download it.
   46 |   const initiateDownload = async (hrefAttribute: string, fileName: string) => {
   47 |     await page.evaluate(
   48 |       ({ hrefAttribute, fileName }) => {
   49 |         const a = document.createElement("a");
   50 |         a.href = hrefAttribute;
   51 |         a.download = fileName;
   52 |         document.body.appendChild(a);
   53 |         a.click();
   54 |         document.body.removeChild(a);
   55 |       },
   56 |       { hrefAttribute, fileName }
   57 |     );
   58 |   };
   59 |
   60 |   // Handles the download of a file, saves it to a specified path,
   61 |   // verifies the downloaded file name matches the expected fileName,
   62 |   // and confirms the existence of the saved file at the specified filePath.
   63 |   const handleDownloadAndVerify = async (fileName: string) => {
   64 |     const download = await page.waitForEvent("download");
   65 |     const filePath = `./downloads/${download.suggestedFilename()}`;
   66 |     await download.saveAs(filePath);
   67 |     // Log the actual suggested filename and expected filename
   68 |     console.log(`âœ… Actual Suggested Filename: ${download.suggestedFilename()}`);
   69 |     console.log(`âœ… Expected Filename: ${fileName}`);
   70 |     expect(download.suggestedFilename()).toBe(fileName);
   71 |     fs.access(filePath, fs.constants.F_OK, (error) => {
   72 |       expect(error).toBe(null);
   73 |     });
   74 |     console.log(`âœ… File '${fileName}' downloaded and saved successfully at '${filePath}'.`);
   75 |     await page.waitForTimeout(500);
   76 |   };
   77 |
   78 |   const verifyPageTitle = async (pageTitle: string) => {
   79 |     await expect(page).toHaveTitle(pageTitle);
   80 |   };
   81 |
   82 |   const clickWeatherAlertLink = async () => {
   83 |     await findWeatherSection()
   84 |       .locator("a", { hasText: "View weather alerts on my page" })
   85 |       .waitFor({ state: "visible" });
   86 |     await findWeatherSection().locator("a", { hasText: "View weather alerts on my page" }).click();
   87 |   };
   88 |
   89 |   const clickPhilosophyLink = async () => {
   90 |     await page.waitForSelector("[data-testid='qa-philosophy']", { state: "visible" }); // Don't need this, just an example
   91 |     await page.getByTestId("qa-philosophy").click();
   92 |   };
   93 |
   94 |   const clickFeedbackWidget = async () => {
   95 |     await page.getByLabel("Let's Connect!").click();
   96 |   };
   97 |
   98 |   const fillFeedbackWidgetNameField = async (widgetNameField: string) => {
   99 |     await page.locator('[id="name"]').fill(widgetNameField);
  100 |   };
  101 |
  102 |   const fillFeedbackWidgetEmailField = async (widgetEmailField: string) => {
  103 |     await page.locator('[id="email"]').fill(widgetEmailField);
  104 |   };
  105 |
  106 |   const fillFeedbackWidgetMessageField = async (widgetMessageField: string) => {
  107 |     await page.locator('[id="message"]').fill(`${widgetMessageField}\n`);
  108 |     await typeTodaysDate(page);
  109 |     console.log(`âœ… ${widgetMessageField}`);
  110 |   };
  111 |
  112 |   const clickFeedbackWidgetSendNowButton = async () => {
  113 |     await page.click('button:has-text("Send Now!")');
  114 |   };
  115 |
  116 |   const verifyFeedbackWidgetMessageSent = async (widgetMessageSent: string, options: { ignoreCase: boolean }) => {
  117 |     // Not going for a more specific element inside the Shadow DOM because Playwright just can't find it.
  118 |     // Even though it's inside there, it's easier to target the #sentry-feedback parent element, which works fine.
> 119 |     await expect(page.locator("#sentry-feedback")).toContainText(widgetMessageSent, options);
      |                                                    ^ Error: Timed out 5000ms waiting for expect(locator).toContainText(expected)
  120 |   };
  121 |
  122 |   return {
  123 |     handleDownloadAndVerify,
  124 |     initiateDownload,
  125 |     verifyPageTitle,
  126 |     clickPhilosophyLink,
  127 |     clickWeatherAlertLink,
  128 |     clickFeedbackWidget,
  129 |     fillFeedbackWidgetNameField,
  130 |     fillFeedbackWidgetEmailField,
  131 |     fillFeedbackWidgetMessageField,
  132 |     clickFeedbackWidgetSendNowButton,
  133 |     verifyDogGif,
  134 |     verifyFeedbackWidgetMessageSent,
  135 |   };
  136 | };
  137 |
```